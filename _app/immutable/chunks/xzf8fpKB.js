import{v as $,w as P,x as q,E as w,y as C,H as F,z as H,A as Z,B as z,C as O,D,F as L,G as h,U as G,I as j,J,K,e as m,L as Q,S as B,M as V,N as U,O as W,h as E,P as M,Q as X,R as p,T as k,V as x,j as ee,W as re,X as se,Y as ae,Z as ne,_ as ie,$ as te,a0 as fe,a1 as ue,a2 as le,a3 as ce,a4 as _e}from"./DB6kjGPt.js";import{a as ve,g as de}from"./Cz1Aj8eN.js";function Ie(e,s,[a,r]=[0,0]){P&&a===0&&q();var i=e,n=null,_=null,f=G,o=a>0?w:0,b=!1;const v=(u,l=!0)=>{b=!0,I(l,u)},I=(u,l)=>{if(f===(f=u))return;let c=!1;if(P&&r!==-1){if(a===0){const d=C(i);d===F?r=0:d===H?r=1/0:(r=parseInt(d.substring(1)),r!==r&&(r=f?1/0:-1))}const A=r>a;!!f===A&&(i=Z(),z(i),O(!1),c=!0,r=-1)}f?(n?D(n):l&&(n=L(()=>l(i))),_&&h(_,()=>{_=null})):(_?D(_):l&&(_=L(()=>l(i,[a+1,r]))),n&&h(n,()=>{n=null})),c&&O(!0)};$(()=>{b=!1,s(v),b||I(null,null)},o),P&&(i=j)}function Y(e,s){return e===s||e?.[B]===s}function Te(e={},s,a,r){return J(()=>{var i,n;return K(()=>{i=n,n=[],m(()=>{e!==a(...n)&&(s(e,...n),i&&Y(a(...i),e)&&s(null,...i))})}),()=>{Q(()=>{n&&Y(a(...n),e)&&s(null,...n)})}}),e}let g=!1,R=Symbol();function ge(e,s,a){const r=a[s]??={store:null,source:W(void 0),unsubscribe:U};if(r.store!==e&&!(R in a))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=U;else{var i=!0;r.unsubscribe=ve(e,n=>{i?r.source.v=n:M(r.source,n)}),i=!1}return e&&R in a?de(e):E(r.source)}function Ee(){const e={};function s(){V(()=>{for(var a in e)e[a].unsubscribe();X(e,R,{enumerable:!1,value:!0})})}return[e,s]}function Ae(e,s,a){return e.set(a),s}function be(e){var s=g;try{return g=!1,[e(),g]}finally{g=s}}function Pe(e,s,a,r){var i=!fe||(a&ue)!==0,n=(a&te)!==0,_=(a&ce)!==0,f=r,o=!0,b=()=>(o&&(o=!1,f=_?m(r):r),f),v;if(n){var I=B in e||_e in e;v=p(e,s)?.set??(I&&s in e?t=>e[s]=t:void 0)}var u,l=!1;n?[u,l]=be(()=>e[s]):u=e[s],u===void 0&&r!==void 0&&(u=b(),v&&(i&&k(),v(u)));var c;if(i?c=()=>{var t=e[s];return t===void 0?b():(o=!0,t)}:c=()=>{var t=e[s];return t!==void 0&&(f=void 0),t===void 0?f:t},i&&(a&x)===0)return c;if(v){var A=e.$$legacy;return function(t,T){return arguments.length>0?((!i||!T||A||l)&&v(T?c():t),t):c()}}var d=!1,S=((a&le)!==0?ee:re)(()=>(d=!1,c()));n&&E(S);var y=ne;return function(t,T){if(arguments.length>0){const N=T?E(S):i&&n?se(t):t;return M(S,N),d=!0,f!==void 0&&(f=N),t}return ae&&d||(y.f&ie)!==0?S.v:E(S)}}export{Ae as a,Te as b,ge as c,Ie as i,Pe as p,Ee as s};
