import{b as Z,h as O,x as w,E as z,H as V,y as J,z as K,A as Q,B as Y,C as m,a as q,D as B,U as W,c as X,F as j,G as k,i as h,I as x,S as $,J as ee,K as re,n as M,L as F,k as I,M as G,N as ae,O as se,P as ne,m as p,Q as ie,R as fe,T as ue,V as te,W as le,X as ce,Y as _e,Z as ve,_ as be,$ as de}from"./DlDMFy5m.js";import{s as Ie,g as Se}from"./leGfp2QT.js";function Te(e,r,[s,a]=[0,0]){O&&s===0&&w();var f=e,n=null,u=null,d=W,E=s>0?z:0,l=!1;const A=(t,c=!0)=>{l=!0,b(c,t)},b=(t,c)=>{if(d===(d=t))return;let S=!1;if(O&&a!==-1){if(s===0){const _=f.data;_===V?a=0:_===J?a=1/0:(a=parseInt(_.substring(1)),a!==a&&(a=d?1/0:-1))}const P=a>s;!!d===P&&(f=K(),Q(f),Y(!1),S=!0,a=-1)}d?(n?m(n):c&&(n=q(()=>c(f))),u&&B(u,()=>{u=null})):(u?m(u):c&&(u=q(()=>c(f,[s+1,a]))),n&&B(n,()=>{n=null})),S&&Y(!0)};Z(()=>{l=!1,r(A),l||b(null,null)},E),O&&(f=X)}function y(e,r){return e===r||(e==null?void 0:e[$])===r}function Ae(e={},r,s,a){return j(()=>{var f,n;return k(()=>{f=n,n=[],h(()=>{e!==s(...n)&&(r(e,...n),f&&y(s(...f),e)&&r(null,...f))})}),()=>{x(()=>{n&&y(s(...n),e)&&r(null,...n)})}}),e}let T=!1,D=Symbol();function Re(e,r,s){const a=s[r]??(s[r]={store:null,source:F(void 0),unsubscribe:M});if(a.store!==e&&!(D in s))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=M;else{var f=!0;a.unsubscribe=Ie(e,n=>{f?a.source.v=n:G(a.source,n)}),f=!1}return e&&D in s?Se(e):I(a.source)}function ge(){const e={};function r(){ee(()=>{for(var s in e)e[s].unsubscribe();re(e,D,{enumerable:!1,value:!0})})}return[e,r]}function Ne(e,r,s){return e.set(s),r}function oe(e){var r=T;try{return T=!1,[e(),T]}finally{T=r}}function C(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function Oe(e,r,s,a){var U;var f=(s&be)!==0,n=!_e||(s&ve)!==0,u=(s&le)!==0,d=(s&de)!==0,E=!1,l;u?[l,E]=oe(()=>e[r]):l=e[r];var A=$ in e||ce in e,b=u&&(((U=ae(e,r))==null?void 0:U.set)??(A&&r in e&&(i=>e[r]=i)))||void 0,t=a,c=!0,S=!1,P=()=>(S=!0,c&&(c=!1,d?t=h(a):t=a),t);l===void 0&&a!==void 0&&(b&&n&&se(),l=P(),b&&b(l));var _;if(n)_=()=>{var i=e[r];return i===void 0?P():(c=!0,S=!1,i)};else{var L=(f?p:ie)(()=>e[r]);L.f|=ne,_=()=>{var i=I(L);return i!==void 0&&(t=void 0),i===void 0?t:i}}if((s&fe)===0)return _;if(b){var H=e.$$legacy;return function(i,o){return arguments.length>0?((!n||!o||H||E)&&b(o?_():i),i):_()}}var R=!1,g=F(l),v=p(()=>{var i=_(),o=I(g);return R?(R=!1,o):g.v=i});return u&&I(v),f||(v.equals=ue),function(i,o){if(arguments.length>0){const N=o?I(v):n&&u?te(i):i;if(!v.equals(N)){if(R=!0,G(g,N),S&&t!==void 0&&(t=N),C(v))return i;h(()=>I(v))}return i}return C(v)?v.v:I(v)}}export{Ne as a,Ae as b,Re as c,Te as i,Oe as p,ge as s};
