<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="Description" content="Validate JSON Schema online">

    <link rel="preload" href="global.css" as="style">
    <link rel="preload" href="solarized-dark.css" as="style">
    <link rel="preload" href="solarized-light.css" as="style">
    <link rel="preload" href="atom-one-dark.css" as="style">
    <link rel="preload" href="atom-one-light.css" as="style">
    <link rel="preload" href="favicon.ico" as="image">

    <link rel="stylesheet" href="global.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico">

    <script>
      // Force HTTPS
      if (location.hostname !== "localhost" && location.protocol === "http:") {
        location = `https://${location.host}${location.pathname}`;
      }

      // Load theme/mode early enough to not flicker
      const defaultMode = matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
      const mode = localStorage.getItem("mode") || defaultMode;
      const theme = localStorage.getItem("theme") || "atom-one";

      const themeLink = document.createElement("link");
      themeLink.id = "theme";
      themeLink.rel = "stylesheet";
      themeLink.href = `${theme}-${mode}.css`;
      document.getElementsByTagName("head")[0].appendChild(themeLink);
    </script>

    %sveltekit.head%
  </head>

  <body data-sveltekit-preload-data="hover">
    <div id="svelte">%sveltekit.body%</div>
  </body>
</html>
